<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>trees/splay</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css?v=2.0.9">

<!-- JS -->
<script type="text/javascript" src="../dochack.js?v=2.0.9"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">trees/splay</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#SplayTree" title="SplayTree[K; V] = object">SplayTree</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">find
  <li><a class="reference" href="#find%2CSplayTree%5BK%2CV%5D%2CK%2CV" title="find[K, V](tree: SplayTree[K, V]; key: K; value: var V): bool">find[K, V](tree: SplayTree[K, V]; key: K; value: var V): bool</a></li>
<li><a class="reference" href="#find%2CSplayTree%5BK%2CV%5D%2CK%2CV_2" title="find[K, V](tree: var SplayTree[K, V]; key: K; value: var V): bool">find[K, V](tree: var SplayTree[K, V]; key: K; value: var V): bool</a></li>

</ul>
<ul class="simple nested-toc-section">insert
  <li><a class="reference" href="#insert%2CSplayTree%5BK%2CV%5D%2CK%2CV" title="insert[K, V](tree: var SplayTree[K, V]; key: K; value: V): bool">insert[K, V](tree: var SplayTree[K, V]; key: K; value: V): bool</a></li>

</ul>
<ul class="simple nested-toc-section">len
  <li><a class="reference" href="#len%2CSplayTree%5BK%2CV%5D" title="len[K, V](tree: SplayTree[K, V]): int">len[K, V](tree: SplayTree[K, V]): int</a></li>

</ul>
<ul class="simple nested-toc-section">remove
  <li><a class="reference" href="#remove%2CSplayTree%5BK%2CV%5D%2CK" title="remove[K, V](tree: var SplayTree[K, V]; key: K): bool">remove[K, V](tree: var SplayTree[K, V]; key: K): bool</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#15" id="65">Iterators</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">pairs
  <li><a class="reference" href="#pairs.i%2CSplayTree%5BK%2CV%5D" title="pairs[K, V](tree: SplayTree[K, V]): (K, V)">pairs[K, V](tree: SplayTree[K, V]): (K, V)</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc"><p>Implementation of a Splay tree in Nim, based on <a class="reference external" href="https://en.wikipedia.org/wiki/Splay_tree">https://en.wikipedia.org/wiki/Splay_tree</a>. Recursive iterators aren't allowed in nim, so iterative tree traversals were needed, found on wikipedia as well.</p>
<p>Elements are compared via the <tt class="docutils literal"><span class="pre"><span class="Identifier">cmp</span></span></tt> function, so the <tt class="docutils literal"><span class="pre"><span class="Operator">&lt;</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Operator">==</span></span></tt> operators should be defined for the key type of the tree. Duplicate keys are not allowed in the tree.</p>
<p>Splay trees are binary search trees that don't apply balance operations on each insert/remove, and as such are unbalanced and don't provide a O(lg(n)) worst case insert/remove. Instead, splay trees rotate newly added and searched for data to the top of the tree so commonly accessed data and newly inserted items are very fast to find, as you don't have to go through a large part of the tree to find them. Splay tree double rotations are slightly different than normal double tree rotations, so data ascends the tree quickly, but descends much slower. This is good enough to offer amortized lg(n) time for insert, remove and find.</p>
</p>
    <div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="SplayTree">
  <dt><pre><a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">V</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L28" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L28" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="find-procs-all">
  <div id="find,SplayTree[K,V],K,V">
  <dt><pre><span class="Keyword">proc</span> <a href="#find%2CSplayTree%5BK%2CV%5D%2CK%2CV"><span class="Identifier">find</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    Recover the <tt class="docutils literal"><span class="pre"><span class="Identifier">value</span></span></tt> from the <tt class="docutils literal"><span class="pre"><span class="Identifier">key</span></span></tt>; truthy if <tt class="docutils literal"><span class="pre"><span class="Identifier">value</span></span></tt> was modified.
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L132" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L132" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="find,SplayTree[K,V],K,V_2">
  <dt><pre><span class="Keyword">proc</span> <a href="#find%2CSplayTree%5BK%2CV%5D%2CK%2CV_2"><span class="Identifier">find</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    Recover the <tt class="docutils literal"><span class="pre"><span class="Identifier">value</span></span></tt> from the <tt class="docutils literal"><span class="pre"><span class="Identifier">key</span></span></tt>; truthy if <tt class="docutils literal"><span class="pre"><span class="Identifier">value</span></span></tt> was modified.
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L141" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L141" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="insert-procs-all">
  <div id="insert,SplayTree[K,V],K,V">
  <dt><pre><span class="Keyword">proc</span> <a href="#insert%2CSplayTree%5BK%2CV%5D%2CK%2CV"><span class="Identifier">insert</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.
    <span class="Identifier">discardable</span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L154" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L154" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="len-procs-all">
  <div id="len,SplayTree[K,V]">
  <dt><pre><span class="Keyword">proc</span> <a href="#len%2CSplayTree%5BK%2CV%5D"><span class="Identifier">len</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span></pre></dt>
  <dd>
    
    Returns the number of items in the tree.
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L238" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L238" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="remove-procs-all">
  <div id="remove,SplayTree[K,V],K">
  <dt><pre><span class="Keyword">proc</span> <a href="#remove%2CSplayTree%5BK%2CV%5D%2CK"><span class="Identifier">remove</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">K</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">discardable</span>.}</pre></dt>
  <dd>
    
    Remove a key value pair from the tree. Returns true if something was removed, false if the key wasn't found, so nothing was removed.
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L199" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L199" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="15">
  <h1><a class="toc-backref" href="#15">Iterators</a></h1>
  <dl class="item">
    <div id="pairs-iterators-all">
  <div id="pairs.i,SplayTree[K,V]">
  <dt><pre><span class="Keyword">iterator</span> <a href="#pairs.i%2CSplayTree%5BK%2CV%5D"><span class="Identifier">pairs</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="splay.html#SplayTree"><span class="Identifier">SplayTree</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">)</span></pre></dt>
  <dd>
    
    Iterates over the elements of the tree in order.
    <a href="https://github.com/disruptek/trees/tree/4855b7c6e2d27cd8add8bb1a2e28354087e23b76/trees/splay.nim#L242" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/disruptek/trees/edit/master/trees/splay.nim#L242" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-08-26 13:09:01 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
